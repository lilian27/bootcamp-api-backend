(this.webpackJsonppart1=this.webpackJsonppart1||[]).push([[0],{36:function(e,t,n){},38:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(29),a=n.n(r),i=(n(36),n(10)),o=n.n(i),s=n(13),u=n(2),j=(n(38),n(0)),l=function(e){var t=e.persona,n=e.handleDelete;return Object(j.jsx)("div",{children:Object(j.jsxs)("li",{children:[Object(j.jsx)("span",{children:t.name}),Object(j.jsxs)("span",{children:[" ",t.number]}),Object(j.jsx)("button",{type:"button",onClick:n,children:" Eliminar"})]})})},b=n(7),d=n.n(b),O="https://tranquil-garden-51248.herokuapp.com/api/persons",h=function(){return d.a.get(O).then((function(e){return e.data}))},f=function(e){return d.a.post(O,e).then((function(e){return e.data}))},p=function(e,t){return d.a.put("".concat(O,"/").concat(e),t).then((function(e){return e.data}))},x=function(e){return d.a.delete("".concat(O,"/").concat(e)).then((function(e){return e.data}))},g=function(e){var t=e.messaje,n=e.tipo,r=Object(c.useState)(null),a=Object(u.a)(r,2),i=a[0],o=a[1],s=Object(c.useState)(null),l=Object(u.a)(s,2),b=l[0],d=l[1];Object(c.useEffect)((function(){console.log("Mostrando error"),O(t,n)}),[t,n]);var O=function(e,t){o(e),d(t),setTimeout((function(){o(null)}),3e3)};if(null===t)return null;var h=1===b?"error":"process";return Object(j.jsx)("div",{className:h,children:i})},m=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),i=Object(u.a)(a,2),o=i[0],s=i[1],b=Object(c.useState)(""),d=Object(u.a)(b,2),O=d[0],m=d[1],v=Object(c.useState)(""),S=Object(u.a)(v,2),C=S[0],k=S[1],w=Object(c.useState)(null),N=Object(u.a)(w,2),E=N[0],T=N[1],I=Object(c.useState)(null),P=Object(u.a)(I,2),y=P[0],D=P[1];Object(c.useEffect)((function(){h().then((function(e){r(e)}))}),[]);var R,A=C.length>0?(R=C,n.filter((function(e){return e.name.toLowerCase().indexOf(R.toLowerCase())>-1}))):n,L=function(e,t){T(e),D(t),setTimeout((function(){T(null)}),3e3)};return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Gu\xeda telefonica"}),Object(j.jsx)(g,{messaje:E,tipo:y}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=n.filter((function(e){return e.name.toLowerCase()===o.toLowerCase()})),c={name:o,id:o,number:O};if(0===t.length)f(c).then((function(e){r(n.concat(c)),s(""),m(""),L("Persona ha sido agregada",0)})).catch((function(e){console.log("error ".concat(e)),L("Persona no puso ser agregada",1)}));else{var a=t[0].id;window.confirm("".concat(o," ya se encuentra registrado, \xbfDesea reemplazar el n\xfamero?"))&&p(a,c).then((function(e){r(n.map((function(t){return t.id!==a?t:e}))),L("N\xfamero telefonico fue actualizado!!!",0)}))}},children:[Object(j.jsxs)("div",{children:["Name: ",Object(j.jsx)("input",{value:o,onChange:function(e){s(e.target.value)}})]}),Object(j.jsxs)("div",{children:["Number: ",Object(j.jsx)("input",{value:O,onChange:function(e){m(e.target.value)}}),Object(j.jsx)("button",{type:"submit",children:"guardar"})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Numbers"}),Object(j.jsxs)("div",{children:["filter shown whith ",Object(j.jsx)("input",{value:C,onChange:function(e){k(e.target.value)}})]}),Object(j.jsx)("ul",{children:A.map((function(e){return Object(j.jsx)(l,{persona:e,handleDelete:function(){return t=e.id,void x(t).then((function(e){r(n.filter((function(e){return e.id!==t}))),L("Registro eliminado correctamente",0)})).catch((function(e){L("Un problema ha ocurrido",1)}));var t}},e.id)}))})]})]})]})},v=function(e){var t=e.pais,n=[];for(var c in console.log("detalle",t),t.languages)n.push(t.languages[c]);return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:t.name.official}),Object(j.jsxs)("div",{children:[Object(j.jsx)("b",{children:"Capital:"})," ",Object(j.jsx)("span",{children:t.capital})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("b",{children:"Population:"})," ",Object(j.jsx)("span",{children:t.population})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("b",{children:"Lenguajes"}),Object(j.jsx)("ul",{children:n.map((function(e){return Object(j.jsx)("li",{children:e},e)}))}),t.flag,Object(j.jsx)("image",{src:t.flag,alt:"bandera",width:"8%"})]})]})},S=function(e){var t=e.pais;return Object(j.jsx)("div",{children:Object(j.jsxs)("li",{children:[" ",t.name.official," "]},t.name.official)})},C=function(e){var t=e.paises;return t.length>1?Object(j.jsx)("div",{children:Object(j.jsx)("ul",{children:t.map((function(e){return Object(j.jsx)(S,{pais:e})}))})}):Object(j.jsx)(v,{pais:t[0]})},k=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(u.a)(a,2),o=i[0],s=i[1];return Object(c.useEffect)((function(){if(""!==n){var e="https://restcountries.com/v3.1/name/".concat(n);d.a.get(e).then((function(e){s(e.data)})).catch((function(e){s([]),console.log("um error ha ocurrido",e)}))}}),[n]),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{children:["Find countries ",Object(j.jsx)("input",{value:n,onChange:function(e){r(e.target.value)}})," "]}),Object(j.jsxs)("p",{children:[" Se han encontrado ",o.length," resultado(s)",o.length>10?", favor ser m\xe1s especifico.":""]}),o.length>0&&o.length<10?Object(j.jsx)(C,{paises:o}):null]})},w=function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Paises:"}),Object(j.jsx)(k,{})]})},N="https://tranquil-garden-51248.herokuapp.com/api/notes",E=null,T=function(){var e=Object(s.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:E}},e.next=3,d.a.post(N,t,n);case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I={getAll:function(){var e=d.a.get(N),t={id:1e4,content:"This note is not saved to server",date:"2019-05-30T17:30:31.098Z",important:!0};return e.then((function(e){return e.data.concat(t)}))},create:T,update:function(e,t){return d.a.put("".concat(N,"/").concat(e),t).then((function(e){return e.data}))},setToken:function(e){E="bearer ".concat(e)}},P=function(){return Object(j.jsxs)("div",{style:{color:"green",fontStyle:"italic",fontSize:16},children:[Object(j.jsx)("br",{}),Object(j.jsxs)("em",{children:["Practice ",Object(j.jsx)("a",{href:"https://fullstackopen.com/",children:" bootcamp"})]})]})},y=function(e){return Object(j.jsx)("div",{children:e.counter})},D=function(e){return Object(j.jsx)("button",{onClick:e.handleClick,children:e.text})},R=function(e){e.note,e.toggleImportance;var t=Object(c.useState)(0),n=Object(u.a)(t,2),r=n[0],a=n[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)(y,{counter:r}),Object(j.jsx)(D,{handleClick:function(){return a(r+1)},text:"plus"}),Object(j.jsx)(D,{handleClick:function(){return a(0)},text:"zero"}),Object(j.jsx)(D,{handleClick:function(){return a(r-1)},text:"minus"})]})},A=n(11),L=n(3),z=function(e){var t=e.note,n=e.toggleImportance,c=t.important?"hacer no importante":"make important";return Object(j.jsxs)("li",{className:"note",children:[t.content,Object(j.jsxs)("button",{onClick:n,children:[" ",c]})]})},F=function(){var e=Object(c.useState)(!0),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(u.a)(a,2),o=i[0],s=i[1],l=Object(c.useState)(null),b=Object(u.a)(l,2),d=b[0],O=b[1],h=Object(c.useState)(null),f=Object(u.a)(h,2),p=f[0],x=f[1];Object(c.useEffect)((function(){I.getAll().then((function(e){s(e)}))}),[]);var m=function(e,t){O(e),x(t),setTimeout((function(){O(null)}),3e3)},v=n?o:o.filter((function(e){return!0===e.important}));return Object(j.jsxs)("div",{children:[Object(j.jsx)(g,{messaje:d,tipo:p}),Object(j.jsx)("div",{children:Object(j.jsxs)("button",{onClick:function(){return r(!n)},children:["show ",n?"important":"all"]})}),Object(j.jsx)("ul",{children:v.map((function(e){return Object(j.jsx)(z,{note:e,toggleImportance:function(){return function(e){console.log("HACIENDO CAMBIO!!!!"),console.log("OBJ NOTES!!!!",o);var t=o.find((function(t){return t.id===e}));console.log("REGISTRO ENCONTRADOO",t);var n={content:t.content,important:!t.important};console.log("ID::",e),console.log("changedNote::",n),I.update(e,n).then((function(n){console.log("RESPONSE",n),s(o.map((function(t){return t.id!==e?t:n}))),m("Note '".concat(t.content,"' ha cambiado importancia!!!"),0)})).catch((function(n){console.log("ERROR",n),s(o.filter((function(t){return t.id!==e}))),m("Nota '".concat(t.content,"' ya existe"),1)}))}(e.id)}},e.id)}))})]})};var B=function(){var e=Object(c.useState)(null),t=Object(u.a)(e,2),n=(t[0],t[1],Object(c.useState)(null)),r=Object(u.a)(n,2),a=(r[0],r[1],Object(c.useState)("")),i=Object(u.a)(a,2),o=(i[0],i[1],Object(c.useState)("")),s=Object(u.a)(o,2),l=(s[0],s[1],Object(c.useState)(null)),b=Object(u.a)(l,2),d=(b[0],b[1]);return Object(c.useEffect)((function(){var e=window.localStorage.getItem("loggedAppUser");if(e){var t=JSON.parse(e);d(t),I.setToken(t.token)}}),[]),Object(j.jsxs)(A.a,{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(A.b,{to:"/",children:"Home"}),Object(j.jsx)(A.b,{to:"/contador",children:"Contador"}),Object(j.jsx)(A.b,{to:"/notas",children:"Notas"}),Object(j.jsx)(A.b,{to:"/guia-telefonica",children:"Gu\xeda telefonica"}),Object(j.jsx)(A.b,{to:"/paises",children:"Paises"})]}),Object(j.jsxs)(L.c,{children:[Object(j.jsx)(L.a,{path:"/contador",children:Object(j.jsx)(R,{})}),Object(j.jsx)(L.a,{path:"/notas",children:Object(j.jsx)(F,{})}),Object(j.jsx)(L.a,{path:"/guia-telefonica",children:Object(j.jsx)(m,{})}),Object(j.jsx)(L.a,{path:"/paises",children:Object(j.jsx)(w,{})})]}),Object(j.jsx)(P,{children:" "})]})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};a.a.render(Object(j.jsx)(B,{}),document.getElementById("root")),J()}},[[63,1,2]]]);
//# sourceMappingURL=main.f82ad67f.chunk.js.map