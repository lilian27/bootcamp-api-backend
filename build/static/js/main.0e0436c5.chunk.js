(this.webpackJsonppart1=this.webpackJsonppart1||[]).push([[0],{22:function(e,t,n){},23:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n(17),r=n.n(i),a=(n(22),n(8)),o=n(2),s=(n(23),n(0)),u=function(e){return Object(s.jsx)("div",{children:e.counter})},j=function(e){return Object(s.jsx)("button",{onClick:e.handleClick,children:e.text})},l=function(e){var t=e.note,n=e.toggleImportance,c=t.important?"hacer no importante":"make important";return Object(s.jsxs)("li",{className:"note",children:[t.content,Object(s.jsxs)("button",{onClick:n,children:[" ",c]})]})},b=function(e){var t=e.persona,n=e.handleDelete;return Object(s.jsx)("div",{children:Object(s.jsxs)("li",{children:[Object(s.jsx)("span",{children:t.name}),Object(s.jsxs)("span",{children:[" ",t.number]}),Object(s.jsx)("button",{type:"button",onClick:n,children:" Eliminar"})]})})},d=n(4),h=n.n(d),O="https://tranquil-garden-51248.herokuapp.com/api/persons",f=function(e){return h.a.delete("".concat(O,"/").concat(e)).then((function(e){return e.data}))},x=function(e){var t=e.messaje,n=e.tipo,i=Object(c.useState)(null),r=Object(o.a)(i,2),a=r[0],u=r[1],j=Object(c.useState)(null),l=Object(o.a)(j,2),b=l[0],d=l[1];Object(c.useEffect)((function(){console.log("Mostrando error"),h(t,n)}),[t,n]);var h=function(e,t){u(e),d(t),setTimeout((function(){u(null)}),3e3)};if(null===t)return null;var O=1===b?"error":"process";return Object(s.jsx)("div",{className:O,children:a})},p=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(""),a=Object(o.a)(r,2),u=a[0],j=a[1],l=Object(c.useState)(""),d=Object(o.a)(l,2),h=d[0],O=d[1],p=Object(c.useState)(""),m=Object(o.a)(p,2),g=m[0],v=m[1],S=Object(c.useState)(null),C=Object(o.a)(S,2),k=C[0],w=C[1],N=Object(c.useState)(null),E=Object(o.a)(N,2),y=E[0],D=E[1];Object(c.useEffect)((function(){f.getAll().then((function(e){i(e)}))}),[]);var P,L=g.length>0?(P=g,n.filter((function(e){return e.name.toLowerCase().indexOf(P.toLowerCase())>-1}))):n,I=function(e,t){w(e),D(t),setTimeout((function(){w(null)}),3e3)};return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Gu\xeda telefonica"}),Object(s.jsx)(x,{messaje:k,tipo:y}),Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=n.filter((function(e){return e.name.toLowerCase()===u.toLowerCase()})),c={name:u,id:u,number:h};if(0===t.length)f.create(c).then((function(e){i(n.concat(c)),j(""),O(""),I("Persona ha sido agregada",0)})).catch((function(e){console.log("error ".concat(e)),I("Persona no puso ser agregada",1)}));else{var r=t[0].id;window.confirm("".concat(u," ya se encuentra registrado, \xbfDesea reemplazar el n\xfamero?"))&&f.update(r,c).then((function(e){i(n.map((function(t){return t.id!==r?t:e}))),I("N\xfamero telefonico fue actualizado!!!",0)}))}},children:[Object(s.jsxs)("div",{children:["Name: ",Object(s.jsx)("input",{value:u,onChange:function(e){j(e.target.value)}})]}),Object(s.jsxs)("div",{children:["Number: ",Object(s.jsx)("input",{value:h,onChange:function(e){O(e.target.value)}}),Object(s.jsx)("button",{type:"submit",children:"guardar"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Numbers"}),Object(s.jsxs)("div",{children:["filter shown whith ",Object(s.jsx)("input",{value:g,onChange:function(e){v(e.target.value)}})]}),Object(s.jsx)("ul",{children:L.map((function(e){return Object(s.jsx)(b,{persona:e,handleDelete:function(){return t=e.id,void f.remove(t).then((function(e){i(n.filter((function(e){return e.id!==t}))),I("Registro eliminado correctamente",0)})).catch((function(e){I("Un problema ha ocurrido",1)}));var t}},e.id)}))})]})]})]})},m=function(e){var t=e.pais,n=[];for(var c in console.log("detalle",t),t.languages)n.push(t.languages[c]);return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:t.name.official}),Object(s.jsxs)("div",{children:[Object(s.jsx)("b",{children:"Capital:"})," ",Object(s.jsx)("span",{children:t.capital})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("b",{children:"Population:"})," ",Object(s.jsx)("span",{children:t.population})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("b",{children:"Lenguajes"}),Object(s.jsx)("ul",{children:n.map((function(e){return Object(s.jsx)("li",{children:e},e)}))}),t.flag,Object(s.jsx)("image",{src:t.flag,alt:"bandera",width:"8%"})]})]})},g=function(e){var t=e.pais;return Object(s.jsx)("div",{children:Object(s.jsxs)("li",{children:[" ",t.name.official," "]},t.name.official)})},v=function(e){var t=e.paises;return t.length>1?Object(s.jsx)("div",{children:Object(s.jsx)("ul",{children:t.map((function(e){return Object(s.jsx)(g,{pais:e})}))})}):Object(s.jsx)(m,{pais:t[0]})},S=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)([]),a=Object(o.a)(r,2),u=a[0],j=a[1];return Object(c.useEffect)((function(){if(""!==n){var e="https://restcountries.com/v3.1/name/".concat(n);h.a.get(e).then((function(e){j(e.data)})).catch((function(e){j([]),console.log("um error ha ocurrido",e)}))}}),[n]),Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{children:["Find countries ",Object(s.jsx)("input",{value:n,onChange:function(e){i(e.target.value)}})," "]}),Object(s.jsxs)("p",{children:[" Se han encontrado ",u.length," resultado(s)",u.length>10?", favor ser m\xe1s especifico.":""]}),u.length>0&&u.length<10?Object(s.jsx)(v,{paises:u}):null]})},C=function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Paises:"}),Object(s.jsx)(S,{})]})},k="https://tranquil-garden-51248.herokuapp.com/api/notes",w=function(e,t){return h.a.put("".concat(k,"/").concat(e),t).then((function(e){return e.data}))},N=function(){return Object(s.jsxs)("div",{style:{color:"green",fontStyle:"italic",fontSize:16},children:[Object(s.jsx)("br",{}),Object(s.jsxs)("em",{children:["Practice ",Object(s.jsx)("a",{href:"https://fullstackopen.com/",children:" bootcamp"})]})]})};var E=function(){var e=Object(c.useState)(0),t=Object(o.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)([]),b=Object(o.a)(r,2),d=b[0],h=b[1],O=Object(c.useState)("a new note"),f=Object(o.a)(O,2),m=f[0],g=f[1],v=Object(c.useState)(!0),S=Object(o.a)(v,2),k=S[0],E=S[1],y=Object(c.useState)(null),D=Object(o.a)(y,2),P=D[0],L=D[1],I=Object(c.useState)(null),F=Object(o.a)(I,2),R=F[0],T=F[1];Object(c.useEffect)((function(){w.getAll().then((function(e){h(e)}))}),[]),console.log("render",d.length,"notes");var z=k?d:d.filter((function(e){return!0===e.important})),q=function(e,t){L(e),T(t),setTimeout((function(){L(null)}),3e3)};return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{id:"contador",children:[Object(s.jsx)(u,{counter:n}),Object(s.jsx)(j,{handleClick:function(){return i(n+1)},text:"plus"}),Object(s.jsx)(j,{handleClick:function(){return i(0)},text:"zero"}),Object(s.jsx)(j,{handleClick:function(){return i(n-1)},text:"minus"})]}),Object(s.jsxs)("div",{id:"notas",children:[Object(s.jsx)("h1",{children:"Notes"}),Object(s.jsx)(x,{messaje:P,tipo:R}),Object(s.jsx)("div",{children:Object(s.jsxs)("button",{onClick:function(){return E(!k)},children:["show ",k?"important":"all"]})}),Object(s.jsx)("ul",{children:z.map((function(e){return Object(s.jsx)(l,{note:e,toggleImportance:function(){return function(e){var t=d.find((function(t){return t.id===e})),n=Object(a.a)(Object(a.a)({},t),{},{important:!t.important});console.log("ID::",e),console.log("changedNote::",n),w.update(e,n).then((function(n){console.log("RESPONSE",n),h(d.map((function(t){return t.id!==e?t:n}))),q("Note '".concat(t.content,"' ha cambiado importancia!!!"),0)})).catch((function(n){console.log("ERROR",n),h(d.filter((function(t){return t.id!==e}))),q("Nota '".concat(t.content,"' ya existe"),1)}))}(e.id)}},e.id)}))}),Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("button clicked",e.target);var t={content:m,date:(new Date).toISOString(),important:Math.random()<.5,id:m};w.create(t).then((function(e){h(d.concat(e)),g("")}))},children:[Object(s.jsx)("input",{value:m,onChange:function(e){console.log(e.target.value),g(e.target.value)}}),Object(s.jsx)("button",{type:"submit",children:" Save"})]})]}),Object(s.jsxs)("div",{id:"guia-telefonica",children:[Object(s.jsx)("hr",{}),Object(s.jsx)(p,{})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("hr",{}),Object(s.jsx)(C,{})]}),Object(s.jsx)(N,{children:" "})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),r(e),a(e)}))};r.a.render(Object(s.jsx)(E,{}),document.getElementById("root")),y()}},[[43,1,2]]]);
//# sourceMappingURL=main.0e0436c5.chunk.js.map