(this.webpackJsonppart1=this.webpackJsonppart1||[]).push([[0],{69:function(e,t,n){},70:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(23),r=n.n(a),s=(n(69),n(6)),o=(n(70),n(99)),i=n(1),l=function(e){var t=e.persona,n=e.handleDelete;return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:t.name}),Object(i.jsx)("td",{children:t.number}),Object(i.jsx)("td",{children:Object(i.jsx)(o.a,{variant:"link",onClick:n,children:" Eliminar"})})]})},j=n(18),u=n.n(j),d="https://tranquil-garden-51248.herokuapp.com/api/persons",b=function(){return u.a.get(d).then((function(e){return e.data}))},h=function(e){return u.a.post(d,e).then((function(e){return e.data}))},O=function(e,t){return u.a.put("".concat(d,"/").concat(e),t).then((function(e){return e.data}))},x=function(e){return u.a.delete("".concat(d,"/").concat(e)).then((function(e){return e.data}))},p=function(e){var t=e.messaje,n=e.tipo,a=Object(c.useState)(null),r=Object(s.a)(a,2),o=r[0],l=r[1],j=Object(c.useState)(null),u=Object(s.a)(j,2),d=u[0],b=u[1];Object(c.useEffect)((function(){console.log("Mostrando error"),h(t,n)}),[t,n]);var h=function(e,t){l(e),b(t),setTimeout((function(){l(null)}),3e3)};if(null===t)return null;var O=1===d?"error":"process";return Object(i.jsx)("div",{className:O,children:o})},f=n(105),m=n(100),g=n(59),v=n(101),N=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),j=Object(s.a)(r,2),u=j[0],d=j[1],N=Object(c.useState)(""),S=Object(s.a)(N,2),k=S[0],y=S[1],C=Object(c.useState)(""),w=Object(s.a)(C,2),I=w[0],L=w[1],T=Object(c.useState)(null),A=Object(s.a)(T,2),E=A[0],D=A[1],B=Object(c.useState)(null),R=Object(s.a)(B,2),P=R[0],G=R[1];Object(c.useEffect)((function(){b().then((function(e){a(e)}))}),[]);var J,U=I.length>0?(J=I,n.filter((function(e){return e.name.toLowerCase().indexOf(J.toLowerCase())>-1}))):n,F=function(e,t){D(e),G(t),setTimeout((function(){D(null)}),3e3)};return Object(i.jsxs)("div",{className:"pt-5",children:[Object(i.jsx)("h4",{children:"Agregar nuevo contacto"}),Object(i.jsx)(p,{messaje:E,tipo:P}),Object(i.jsx)(f.a,{onSubmit:function(e){e.preventDefault();var t=n.filter((function(e){return e.name.toLowerCase()===u.toLowerCase()})),c={name:u,id:u,number:k};if(0===t.length)h(c).then((function(e){a(n.concat(c)),d(""),y(""),F("Persona ha sido agregada",0)})).catch((function(e){console.log("error ".concat(e)),F("Persona no puso ser agregada",1)}));else{var r=t[0].id;window.confirm("".concat(u," ya se encuentra registrado, \xbfDesea reemplazar el n\xfamero?"))&&O(r,c).then((function(e){a(n.map((function(t){return t.id!==r?t:e}))),F("N\xfamero telefonico fue actualizado!!!",0)}))}},children:Object(i.jsxs)(m.a,{children:[Object(i.jsx)(g.a,{sm:"12",md:"4",children:Object(i.jsx)(f.a.Group,{className:"mb-3",controlId:"name",value:u,onChange:function(e){d(e.target.value)},children:Object(i.jsx)(f.a.Control,{type:"text",placeholder:"Ingrese Nombre"})})}),Object(i.jsx)(g.a,{sm:"12",md:"4",children:Object(i.jsx)(f.a.Group,{className:"mb-3",controlId:"number",value:k,onChange:function(e){y(e.target.value)},children:Object(i.jsx)(f.a.Control,{type:"text",placeholder:"Ingrese N\xfamero"})})}),Object(i.jsx)(g.a,{sm:"12",md:"2",children:Object(i.jsx)(o.a,{className:"btn-block",type:"submit",children:"Agregar"})})]})}),Object(i.jsx)("h4",{className:"mt-5",children:"Lista de contactos"}),Object(i.jsx)(m.a,{className:"justify-content-end ",children:Object(i.jsx)(g.a,{sm:"12",md:"3",children:Object(i.jsx)(f.a,{children:Object(i.jsx)(f.a.Group,{className:"mb-3",controlId:"filter",value:I,onChange:function(e){L(e.target.value)},children:Object(i.jsx)(f.a.Control,{type:"text",placeholder:"Buscar nombre"})})})})}),Object(i.jsxs)(v.a,{responsive:!0,striped:!0,children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"Nombre"}),Object(i.jsx)("th",{children:" Telefono"}),Object(i.jsx)("th",{children:" "})]})}),Object(i.jsx)("tbody",{children:U.map((function(e){return Object(i.jsx)(l,{persona:e,handleDelete:function(){return t=e.id,void x(t).then((function(e){a(n.filter((function(e){return e.id!==t}))),F("Registro eliminado correctamente",0)})).catch((function(e){F("Un problema ha ocurrido",1)}));var t}},e.id)}))})]})]})},S=n(107),k=n(102),y=n(60),C=function(e){var t=e.pais,n=[];for(var c in console.log("detalle",t),t.languages)n.push(t.languages[c]);return Object(i.jsx)("div",{children:Object(i.jsxs)(S.a,{children:[Object(i.jsx)(S.a.Body,{children:Object(i.jsxs)(S.a.Title,{children:[t.flag," ",t.name.official]})}),Object(i.jsxs)(k.a,{className:"list-group-flush",children:[Object(i.jsxs)(y.a,{children:[Object(i.jsx)("b",{children:"Capital:"})," ",Object(i.jsx)("span",{children:t.capital})]}),Object(i.jsxs)(y.a,{children:[Object(i.jsx)("b",{children:"Population:"})," ",Object(i.jsx)("span",{children:t.population})]}),Object(i.jsxs)(y.a,{children:[Object(i.jsx)("b",{children:"Lenguajes"}),Object(i.jsx)("ul",{children:n.map((function(e){return Object(i.jsx)("li",{children:e},e)}))})]})]})]})})},w=function(e){var t=e.pais;return Object(i.jsx)(S.a,{className:"mt-2",children:Object(i.jsx)(S.a.Body,{children:Object(i.jsxs)(S.a.Title,{children:[t.flag," ",t.name.official]})})})},I=function(e){var t=e.paises;return t.length>1?Object(i.jsx)("div",{children:t.map((function(e){return Object(i.jsx)(w,{pais:e})}))}):Object(i.jsx)(C,{pais:t[0]})},L=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),o=Object(s.a)(r,2),l=o[0],j=o[1];return Object(c.useEffect)((function(){if(""!==n){var e="https://restcountries.com/v3.1/name/".concat(n);u.a.get(e).then((function(e){j(e.data)})).catch((function(e){j([]),console.log("um error ha ocurrido",e)}))}}),[n]),Object(i.jsxs)("div",{children:[Object(i.jsx)(f.a,{children:Object(i.jsx)(m.a,{children:Object(i.jsx)(g.a,{sm:"12",md:"4",children:Object(i.jsx)(f.a.Group,{className:"mb-3",controlId:"filtro",value:n,onChange:function(e){a(e.target.value)},children:Object(i.jsx)(f.a.Control,{type:"text",placeholder:"Ingrese nombre pais"})})})})}),Object(i.jsxs)("p",{className:"mt-5",children:[" Se han encontrado ",l.length," resultado(s)",l.length>10?", favor ser m\xe1s especifico.":""]}),l.length>0&&l.length<10?Object(i.jsx)(I,{paises:l}):null]})},T=function(){return Object(i.jsxs)("div",{className:"pt-5",children:[Object(i.jsx)("h4",{children:"Consultar un pais del mundo"}),Object(i.jsx)(L,{})]})},A=n(25),E=n.n(A),D=n(31),B="https://tranquil-garden-51248.herokuapp.com/api/notes",R=null,P=function(){var e=Object(D.a)(E.a.mark((function e(t){var n,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:R}},e.next=3,u.a.post(B,t,n);case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G={getAll:function(){var e=u.a.get(B),t={id:1e4,content:"This note is not saved to server",date:"2019-05-30T17:30:31.098Z",important:!0};return e.then((function(e){return e.data.concat(t)}))},create:P,update:function(e,t){return u.a.put("".concat(B,"/").concat(e),t).then((function(e){return e.data}))},setToken:function(e){R="bearer ".concat(e)}},J=function(){return Object(i.jsxs)("div",{className:"text-center pt-10",children:[Object(i.jsx)("br",{}),Object(i.jsxs)("em",{children:["Practice ",Object(i.jsx)("a",{href:"https://fullstackopen.com/",children:" bootcamp"})]})]})},U=function(e){var t=e.children,n=e.buttonLabel,a=Object(c.useState)(!1),r=Object(s.a)(a,2),o=r[0],l=r[1],j={display:o?"none":""},u={display:o?"":"none"};return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{style:j,children:Object(i.jsx)("button",{onClick:function(){return l(!0)},children:n})}),Object(i.jsxs)("div",{style:u,children:[t,Object(i.jsx)("button",{onClick:function(){return l(!1)},children:"cancel"})]})]})},F=function(){var e=Object(D.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post("https://tranquil-garden-51248.herokuapp.com/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q={login:F},z=n(9),M=function(){var e=Object(z.f)(),t=Object(c.useState)(""),n=Object(s.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)(""),l=Object(s.a)(o,2),j=l[0],u=l[1],d=Object(c.useState)(null),b=Object(s.a)(d,2),h=(b[0],b[1]),O=function(){var t=Object(D.a)(E.a.mark((function t(n){var c;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),console.log("logging in with",a,j),t.next=4,q.login({username:a,password:j});case 4:c=t.sent,window.localStorage.setItem("loggedAppUser",JSON.stringify(c)),G.setToken(c.token),h(c),r(""),u(""),e.push("/");case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(i.jsxs)(U,{buttonLabel:"Iniciar Sessi\xf3n",children:[Object(i.jsx)("h2",{children:"Login"}),Object(i.jsxs)("form",{onSubmit:O,children:[Object(i.jsxs)("div",{children:["username",Object(i.jsx)("input",{id:"username",value:a,onChange:function(e){r(e.target.value)}})]}),Object(i.jsxs)("div",{children:["password",Object(i.jsx)("input",{id:"password",type:"password",value:j,onChange:function(e){u(e.target.value)}})]}),Object(i.jsx)("button",{id:"login-button",type:"submit",children:"login"})]})]})},H=n(103),V=function(e){e.note,e.toggleImportance;var t=Object(c.useState)(0),n=Object(s.a)(t,2),a=n[0],r=n[1];return Object(i.jsx)("div",{className:"pt-5",children:Object(i.jsx)(H.a,{children:Object(i.jsxs)(m.a,{className:"justify-content-md-center",children:[Object(i.jsxs)(g.a,{sm:"12",className:"pb-3",children:[Object(i.jsx)("h2",{className:"text-center",children:"Counter"}),Object(i.jsx)("h3",{className:"text-center fs-1 fw-bold",children:a})]}),Object(i.jsx)(g.a,{sm:"12",md:"2",children:Object(i.jsx)(o.a,{variant:"outline-primary",className:"btn-block",onClick:function(){return r(a+1)},children:"Aumentar"})}),Object(i.jsx)(g.a,{sm:"12",md:"2",children:Object(i.jsx)(o.a,{variant:"outline-dark",className:"btn-block",onClick:function(){return r(0)},children:"Reiniciar"})}),Object(i.jsx)(g.a,{sm:"12",md:"2",children:Object(i.jsx)(o.a,{variant:"outline-danger",className:"btn-block",onClick:function(){return r(a-1)},children:"Disminuir"})})]})})})},Z=n(21),K=function(e){var t=e.note,n=e.toggleImportance,c=t.important?"hacer no importante":"make important";return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{className:"note",children:t.content}),Object(i.jsx)("td",{children:Object(i.jsxs)(o.a,{variant:"link",onClick:n,children:[" ",c]})})]})},Q=function(e){var t=e.notes,n=e.setNotes,a=Object(c.useState)(""),r=Object(s.a)(a,2),l=r[0],j=r[1];return Object(i.jsxs)("div",{children:[Object(i.jsx)("h4",{children:"Agregar nueva nota"}),Object(i.jsx)(f.a,{onSubmit:function(e){e.preventDefault(),console.log("button clicked",e.target);var c={content:l,date:(new Date).toISOString(),important:Math.random()<.5,id:l};G.create(c).then((function(e){n(t.concat(e)),j("")}))},children:Object(i.jsxs)(m.a,{children:[Object(i.jsx)(g.a,{sm:"12",md:"4",children:Object(i.jsx)(f.a.Group,{className:"mb-3",controlId:"formBasicEmail",value:l,onChange:function(e){j(e.target.value)},children:Object(i.jsx)(f.a.Control,{type:"text",placeholder:"Ingrese Texto"})})}),Object(i.jsx)(g.a,{sm:"12",md:"2",children:Object(i.jsx)(o.a,{className:"btn-block",type:"submit",children:"Agregar"})})]})})]})},W=function(){var e=Object(c.useState)(!0),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),l=Object(s.a)(r,2),j=l[0],u=l[1],d=Object(c.useState)(null),b=Object(s.a)(d,2),h=b[0],O=b[1],x=Object(c.useState)(null),f=Object(s.a)(x,2),N=f[0],S=f[1];Object(c.useEffect)((function(){G.getAll().then((function(e){u(e)}))}),[]);var k=function(e,t){O(e),S(t),setTimeout((function(){O(null)}),3e3)},y=n?j:j.filter((function(e){return!0===e.important}));return Object(i.jsxs)("div",{className:"mt-5",children:[Object(i.jsx)(p,{messaje:h,tipo:N}),Object(i.jsx)(Q,{notes:j,setNotes:u}),Object(i.jsx)("h4",{className:"mt-5",children:"Listado de notas"}),Object(i.jsx)(m.a,{className:"justify-content-end ",children:Object(i.jsx)(g.a,{sm:"12",md:"3",children:Object(i.jsxs)(o.a,{variant:"primary",className:"btn-block",onClick:function(){return a(!n)},children:["Ver ",n?"importantes":"todos"]})})}),Object(i.jsxs)(v.a,{responsive:!0,striped:!0,children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"Texto"}),Object(i.jsx)("th",{children:" Opciones"})]})}),Object(i.jsx)("tbody",{children:y.map((function(e){return Object(i.jsx)(K,{note:e,toggleImportance:function(){return function(e){console.log("HACIENDO CAMBIO!!!!"),console.log("OBJ NOTES!!!!",j);var t=j.find((function(t){return t.id===e}));console.log("REGISTRO ENCONTRADOO",t);var n={content:t.content,important:!t.important};console.log("ID::",e),console.log("changedNote::",n),G.update(e,n).then((function(n){console.log("RESPONSE",n),u(j.map((function(t){return t.id!==e?t:n}))),k("Note '".concat(t.content,"' ha cambiado importancia!!!"),0)})).catch((function(n){console.log("ERROR",n),u(j.filter((function(t){return t.id!==e}))),k("Nota '".concat(t.content,"' ya existe"),1)}))}(e.id)}},e.id)}))})]})]})},X=function(e){return Object(i.jsx)("div",{children:"Bienvenido"})},Y=n(104),$=n(106);var _=function(){var e=Object(z.f)(),t=Object(c.useState)(null),n=Object(s.a)(t,2),a=(n[0],n[1]),r=Object(c.useState)(null),o=Object(s.a)(r,2),l=(o[0],o[1],Object(c.useState)(null)),j=Object(s.a)(l,2);j[0],j[1],Object(c.useEffect)((function(){var e=window.localStorage.getItem("loggedAppUser");if(e){var t=JSON.parse(e);a(t),G.setToken(t.token)}}),[]);var u={padding:5};return Object(i.jsxs)("div",{className:"container",children:[Object(i.jsxs)(Z.a,{children:[Object(i.jsxs)(Y.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:[Object(i.jsx)(Y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(i.jsx)(Y.a.Collapse,{id:"basic-navbar-nav",children:Object(i.jsxs)($.a,{className:"me-auto",children:[Object(i.jsx)($.a.Link,{href:"#home",as:"span",children:Object(i.jsx)(Z.b,{style:u,to:"/",children:"Home"})}),Object(i.jsx)($.a.Link,{href:"#home",as:"span",children:Object(i.jsx)(Z.b,{style:u,to:"/contador",children:"Contador"})}),Object(i.jsx)($.a.Link,{href:"#home",as:"span",children:Object(i.jsx)(Z.b,{style:u,to:"/notas",children:"Notas"})}),Object(i.jsx)($.a.Link,{href:"#home",as:"span",children:Object(i.jsx)(Z.b,{style:u,to:"/guia-telefonica",children:"Gu\xeda telefonica"})}),Object(i.jsx)($.a.Link,{href:"#home",as:"span",children:Object(i.jsx)(Z.b,{style:u,to:"/paises",children:"Paises"})}),Object(i.jsx)($.a.Link,{href:"#home",as:"span",children:window.localStorage.getItem("loggedAppUser")?Object(i.jsx)("button",{type:"button",color:"inherit",onClick:function(){window.localStorage.clear(),a(null),e.push("/")},children:"Logout"}):Object(i.jsx)(Z.b,{style:u,to:"/login",children:"login"})})]})})]}),window.localStorage.getItem("loggedAppUser")?Object(i.jsx)("div",{className:"user pt-2",children:Object(i.jsxs)("p",{children:[Object(i.jsx)("strong",{children:"Bienvenid@:"})," "]})}):"",Object(i.jsxs)(z.c,{children:[Object(i.jsx)(z.a,{path:"/home",children:Object(i.jsx)(X,{})}),Object(i.jsx)(z.a,{path:"/login",children:Object(i.jsx)(M,{})}),Object(i.jsx)(z.a,{path:"/contador",children:Object(i.jsx)(V,{})}),Object(i.jsx)(z.a,{path:"/notas",children:Object(i.jsx)(W,{})}),Object(i.jsx)(z.a,{path:"/guia-telefonica",children:Object(i.jsx)(N,{})}),Object(i.jsx)(z.a,{path:"/paises",children:Object(i.jsx)(T,{})})]})]}),Object(i.jsx)(J,{children:" "})]})},ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,108)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};r.a.render(Object(i.jsx)(_,{}),document.getElementById("root")),ee()}},[[97,1,2]]]);
//# sourceMappingURL=main.4995dfeb.chunk.js.map